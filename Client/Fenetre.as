package  {	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.MouseEvent;	import flash.events.KeyboardEvent;	import flash.events.Event;	/*Class Fenetre		Class Contener qui contient toute les classes graphic et qui gere l'affichage principal des sous fenetres	*/	public class Fenetre extends Sprite{		public var scene:MovieClip;  		public var map:Map;  //Map du Jeux		public var currentRoom:Room=null; // Room actuellle		public var dialBox:DialogueBox; //Fenetre de Dialogues		public var lesCo:LesCo; // Fenetre des connecté		public var goMap : GoMap; // Teleportation dans la map		public var menu:Menu; // Fenetre du menu		public var hitTP:Boolean=false; //Varible pour savoir si on change de Room a partir d'un Room ou e la Map		//info client actuel		public var id:Number;		public var pseudo:String;		public var grade:Number;		public var xx:Number;		public var yy:Number;						public function Fenetre(scene:MovieClip) {			this.scene=scene;			menu = new Menu();			this.afficherThis();			//Redimention de l'écran en fonction de la résolution client			this.width = this.width* (stage.fullScreenWidth/1680);			this.height = this.height* ( stage.fullScreenHeight/1050 );					}				//Instanciation et affichage de la fenetre des connecté		public function instanceLesCo(){			lesCo = new LesCo(this);			lesCo.afficherThis();		}				//Instanciation et affichage de la fenetre de dialogue		public function instanceDialBox(){			dialBox = new DialogueBox(this);			dialBox.afficherThis();		}				//Instanciation et affichage de la fenetre de tp map		public function instanceGoMAp(){			goMap = new GoMap(this);			goMap.afficherThis();		}				//Instanciation et affichage de la Map		public function instanceMap(){			hitTP=false;			map = new Map(this);			map.afficherThis();		}				//Affichage de la Fenetre		public function afficherThis(){			scene.addChild(this);		}				//Effacement de la Fenetre 		public function effacerThis(){			scene.removeChild(this);			scene.mainFenetre=null;		}				//Allez a la Room "String"		public function goToRoom(name:String){			if(hitTP){				currentRoom.effacerThis();				currentRoom = null;			}						switch(name){				case "accueil":					currentRoom  = new RoomAccueil(this);					currentRoom.afficherThis();										stage.addEventListener(KeyboardEvent.KEY_DOWN,currentRoom.touche_e);//Ecoute lorsqu'une touche est enfoncé					stage.addEventListener(KeyboardEvent.KEY_UP,currentRoom.touche_r);//Ecoute lorsqqu'une touche est relaché					stage.addEventListener(Event.ENTER_FRAME, currentRoom.deplacer_p);//Fonction lancé en permanance 					break;				case "map":					if(currentRoom != null){						currentRoom.effacerThis();						currentRoom = null;					}					this.instanceMap();					break;				default:					scene.mainFenetre.visible = false;					this.addEventListener(KeyboardEvent.KEY_DOWN,currentRoom.touche_e);//Ecoute lorsqu'une touche est enfoncé					this.addEventListener(KeyboardEvent.KEY_UP,currentRoom.touche_r);//Ecoute lorsqqu'une touche est relaché					this.addEventListener(Event.ENTER_FRAME, currentRoom.deplacer_p);//Fonction lancé en permanance 					currentRoom = new RoomAccueil(this);					currentRoom.afficherThis();					break;			}		}	}	}